var xt=Object.defineProperty;var Et=(Y,H,V)=>H in Y?xt(Y,H,{enumerable:!0,configurable:!0,writable:!0,value:V}):Y[H]=V;var Z=(Y,H,V)=>Et(Y,typeof H!="symbol"?H+"":H,V);(function(){"use strict";function Y(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function H(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var u=n.default;if(typeof u=="function"){var t=function o(){return this instanceof o?Reflect.construct(u,arguments,this.constructor):u.apply(this,arguments)};t.prototype=u.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(o){var s=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(t,o,s.get?s:{enumerable:!0,get:function(){return n[o]}})}),t}var V={exports:{}},Q,re=new Uint8Array(16);function Er(){if(!Q&&(Q=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Q))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Q(re)}var ee=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function rr(n){return typeof n=="string"&&ee.test(n)}for(var M=[],cr=0;cr<256;++cr)M.push((cr+256).toString(16).substr(1));function er(n){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(M[n[u+0]]+M[n[u+1]]+M[n[u+2]]+M[n[u+3]]+"-"+M[n[u+4]]+M[n[u+5]]+"-"+M[n[u+6]]+M[n[u+7]]+"-"+M[n[u+8]]+M[n[u+9]]+"-"+M[n[u+10]]+M[n[u+11]]+M[n[u+12]]+M[n[u+13]]+M[n[u+14]]+M[n[u+15]]).toLowerCase();if(!rr(t))throw TypeError("Stringified UUID is invalid");return t}var Ar,fr,ur=0,lr=0;function te(n,u,t){var o=u&&t||0,s=u||new Array(16);n=n||{};var f=n.node||Ar,l=n.clockseq!==void 0?n.clockseq:fr;if(f==null||l==null){var c=n.random||(n.rng||Er)();f==null&&(f=Ar=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),l==null&&(l=fr=(c[6]<<8|c[7])&16383)}var h=n.msecs!==void 0?n.msecs:Date.now(),m=n.nsecs!==void 0?n.nsecs:lr+1,g=h-ur+(m-lr)/1e4;if(g<0&&n.clockseq===void 0&&(l=l+1&16383),(g<0||h>ur)&&n.nsecs===void 0&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ur=h,lr=m,fr=l,h+=122192928e5;var x=((h&268435455)*1e4+m)%4294967296;s[o++]=x>>>24&255,s[o++]=x>>>16&255,s[o++]=x>>>8&255,s[o++]=x&255;var _=h/4294967296*1e4&268435455;s[o++]=_>>>8&255,s[o++]=_&255,s[o++]=_>>>24&15|16,s[o++]=_>>>16&255,s[o++]=l>>>8|128,s[o++]=l&255;for(var d=0;d<6;++d)s[o+d]=f[d];return u||er(s)}function _r(n){if(!rr(n))throw TypeError("Invalid UUID");var u,t=new Uint8Array(16);return t[0]=(u=parseInt(n.slice(0,8),16))>>>24,t[1]=u>>>16&255,t[2]=u>>>8&255,t[3]=u&255,t[4]=(u=parseInt(n.slice(9,13),16))>>>8,t[5]=u&255,t[6]=(u=parseInt(n.slice(14,18),16))>>>8,t[7]=u&255,t[8]=(u=parseInt(n.slice(19,23),16))>>>8,t[9]=u&255,t[10]=(u=parseInt(n.slice(24,36),16))/1099511627776&255,t[11]=u/4294967296&255,t[12]=u>>>24&255,t[13]=u>>>16&255,t[14]=u>>>8&255,t[15]=u&255,t}function ne(n){n=unescape(encodeURIComponent(n));for(var u=[],t=0;t<n.length;++t)u.push(n.charCodeAt(t));return u}var ie="6ba7b810-9dad-11d1-80b4-00c04fd430c8",ae="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Ir(n,u,t){function o(s,f,l,c){if(typeof s=="string"&&(s=ne(s)),typeof f=="string"&&(f=_r(f)),f.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var h=new Uint8Array(16+s.length);if(h.set(f),h.set(s,f.length),h=t(h),h[6]=h[6]&15|u,h[8]=h[8]&63|128,l){c=c||0;for(var m=0;m<16;++m)l[c+m]=h[m];return l}return er(h)}try{o.name=n}catch{}return o.DNS=ie,o.URL=ae,o}function oe(n){if(typeof n=="string"){var u=unescape(encodeURIComponent(n));n=new Uint8Array(u.length);for(var t=0;t<u.length;++t)n[t]=u.charCodeAt(t)}return se(ce(fe(n),n.length*8))}function se(n){for(var u=[],t=n.length*32,o="0123456789abcdef",s=0;s<t;s+=8){var f=n[s>>5]>>>s%32&255,l=parseInt(o.charAt(f>>>4&15)+o.charAt(f&15),16);u.push(l)}return u}function Fr(n){return(n+64>>>9<<4)+14+1}function ce(n,u){n[u>>5]|=128<<u%32,n[Fr(u)-1]=u;for(var t=1732584193,o=-271733879,s=-1732584194,f=271733878,l=0;l<n.length;l+=16){var c=t,h=o,m=s,g=f;t=T(t,o,s,f,n[l],7,-680876936),f=T(f,t,o,s,n[l+1],12,-389564586),s=T(s,f,t,o,n[l+2],17,606105819),o=T(o,s,f,t,n[l+3],22,-1044525330),t=T(t,o,s,f,n[l+4],7,-176418897),f=T(f,t,o,s,n[l+5],12,1200080426),s=T(s,f,t,o,n[l+6],17,-1473231341),o=T(o,s,f,t,n[l+7],22,-45705983),t=T(t,o,s,f,n[l+8],7,1770035416),f=T(f,t,o,s,n[l+9],12,-1958414417),s=T(s,f,t,o,n[l+10],17,-42063),o=T(o,s,f,t,n[l+11],22,-1990404162),t=T(t,o,s,f,n[l+12],7,1804603682),f=T(f,t,o,s,n[l+13],12,-40341101),s=T(s,f,t,o,n[l+14],17,-1502002290),o=T(o,s,f,t,n[l+15],22,1236535329),t=R(t,o,s,f,n[l+1],5,-165796510),f=R(f,t,o,s,n[l+6],9,-1069501632),s=R(s,f,t,o,n[l+11],14,643717713),o=R(o,s,f,t,n[l],20,-373897302),t=R(t,o,s,f,n[l+5],5,-701558691),f=R(f,t,o,s,n[l+10],9,38016083),s=R(s,f,t,o,n[l+15],14,-660478335),o=R(o,s,f,t,n[l+4],20,-405537848),t=R(t,o,s,f,n[l+9],5,568446438),f=R(f,t,o,s,n[l+14],9,-1019803690),s=R(s,f,t,o,n[l+3],14,-187363961),o=R(o,s,f,t,n[l+8],20,1163531501),t=R(t,o,s,f,n[l+13],5,-1444681467),f=R(f,t,o,s,n[l+2],9,-51403784),s=R(s,f,t,o,n[l+7],14,1735328473),o=R(o,s,f,t,n[l+12],20,-1926607734),t=D(t,o,s,f,n[l+5],4,-378558),f=D(f,t,o,s,n[l+8],11,-2022574463),s=D(s,f,t,o,n[l+11],16,1839030562),o=D(o,s,f,t,n[l+14],23,-35309556),t=D(t,o,s,f,n[l+1],4,-1530992060),f=D(f,t,o,s,n[l+4],11,1272893353),s=D(s,f,t,o,n[l+7],16,-155497632),o=D(o,s,f,t,n[l+10],23,-1094730640),t=D(t,o,s,f,n[l+13],4,681279174),f=D(f,t,o,s,n[l],11,-358537222),s=D(s,f,t,o,n[l+3],16,-722521979),o=D(o,s,f,t,n[l+6],23,76029189),t=D(t,o,s,f,n[l+9],4,-640364487),f=D(f,t,o,s,n[l+12],11,-421815835),s=D(s,f,t,o,n[l+15],16,530742520),o=D(o,s,f,t,n[l+2],23,-995338651),t=$(t,o,s,f,n[l],6,-198630844),f=$(f,t,o,s,n[l+7],10,1126891415),s=$(s,f,t,o,n[l+14],15,-1416354905),o=$(o,s,f,t,n[l+5],21,-57434055),t=$(t,o,s,f,n[l+12],6,1700485571),f=$(f,t,o,s,n[l+3],10,-1894986606),s=$(s,f,t,o,n[l+10],15,-1051523),o=$(o,s,f,t,n[l+1],21,-2054922799),t=$(t,o,s,f,n[l+8],6,1873313359),f=$(f,t,o,s,n[l+15],10,-30611744),s=$(s,f,t,o,n[l+6],15,-1560198380),o=$(o,s,f,t,n[l+13],21,1309151649),t=$(t,o,s,f,n[l+4],6,-145523070),f=$(f,t,o,s,n[l+11],10,-1120210379),s=$(s,f,t,o,n[l+2],15,718787259),o=$(o,s,f,t,n[l+9],21,-343485551),t=K(t,c),o=K(o,h),s=K(s,m),f=K(f,g)}return[t,o,s,f]}function fe(n){if(n.length===0)return[];for(var u=n.length*8,t=new Uint32Array(Fr(u)),o=0;o<u;o+=8)t[o>>5]|=(n[o/8]&255)<<o%32;return t}function K(n,u){var t=(n&65535)+(u&65535),o=(n>>16)+(u>>16)+(t>>16);return o<<16|t&65535}function ue(n,u){return n<<u|n>>>32-u}function tr(n,u,t,o,s,f){return K(ue(K(K(u,n),K(o,f)),s),t)}function T(n,u,t,o,s,f,l){return tr(u&t|~u&o,n,u,s,f,l)}function R(n,u,t,o,s,f,l){return tr(u&o|t&~o,n,u,s,f,l)}function D(n,u,t,o,s,f,l){return tr(u^t^o,n,u,s,f,l)}function $(n,u,t,o,s,f,l){return tr(t^(u|~o),n,u,s,f,l)}var le=Ir("v3",48,oe);function pe(n,u,t){n=n||{};var o=n.random||(n.rng||Er)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,u){t=t||0;for(var s=0;s<16;++s)u[t+s]=o[s];return u}return er(o)}function he(n,u,t,o){switch(n){case 0:return u&t^~u&o;case 1:return u^t^o;case 2:return u&t^u&o^t&o;case 3:return u^t^o}}function pr(n,u){return n<<u|n>>>32-u}function ye(n){var u=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var o=unescape(encodeURIComponent(n));n=[];for(var s=0;s<o.length;++s)n.push(o.charCodeAt(s))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var f=n.length/4+2,l=Math.ceil(f/16),c=new Array(l),h=0;h<l;++h){for(var m=new Uint32Array(16),g=0;g<16;++g)m[g]=n[h*64+g*4]<<24|n[h*64+g*4+1]<<16|n[h*64+g*4+2]<<8|n[h*64+g*4+3];c[h]=m}c[l-1][14]=(n.length-1)*8/Math.pow(2,32),c[l-1][14]=Math.floor(c[l-1][14]),c[l-1][15]=(n.length-1)*8&4294967295;for(var x=0;x<l;++x){for(var _=new Uint32Array(80),d=0;d<16;++d)_[d]=c[x][d];for(var v=16;v<80;++v)_[v]=pr(_[v-3]^_[v-8]^_[v-14]^_[v-16],1);for(var A=t[0],E=t[1],S=t[2],C=t[3],I=t[4],N=0;N<80;++N){var U=Math.floor(N/20),ar=pr(A,5)+he(U,E,S,C)+I+u[U]+_[N]>>>0;I=C,C=S,S=pr(E,30)>>>0,E=A,A=ar}t[0]=t[0]+A>>>0,t[1]=t[1]+E>>>0,t[2]=t[2]+S>>>0,t[3]=t[3]+C>>>0,t[4]=t[4]+I>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var we=Ir("v5",80,ye),de="00000000-0000-0000-0000-000000000000";function me(n){if(!rr(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}var ge=Object.freeze({__proto__:null,NIL:de,parse:_r,stringify:er,v1:te,v3:le,v4:pe,v5:we,validate:rr,version:me}),ve=H(ge),hr,Cr;function xe(){if(Cr)return hr;Cr=1;const{v4:n}=ve;return hr=n,hr}var yr,Sr;function Ee(){if(Sr)return yr;Sr=1;for(var n=[],u={},t=0;t<256;t++)n[t]=(t+256).toString(16).substr(1),u[n[t]]=t;function o(f,l,c){var h=l&&c||0,m=0;for(l=l||[],f.toLowerCase().replace(/[0-9a-f]{2}/g,function(g){m<16&&(l[h+m++]=u[g])});m<16;)l[h+m++]=0;return l}function s(f,l){var c=l||0,h=n;return h[f[c++]]+h[f[c++]]+h[f[c++]]+h[f[c++]]+"-"+h[f[c++]]+h[f[c++]]+"-"+h[f[c++]]+h[f[c++]]+"-"+h[f[c++]]+h[f[c++]]+"-"+h[f[c++]]+h[f[c++]]+h[f[c++]]+h[f[c++]]+h[f[c++]]+h[f[c++]]}return yr={parse:o,unparse:s},yr}var wr={},z={},Ur;function Ae(){if(Ur)return z;Ur=1,z.byteLength=c,z.toByteArray=m,z.fromByteArray=_;for(var n=[],u=[],t=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,f=o.length;s<f;++s)n[s]=o[s],u[o.charCodeAt(s)]=s;u[45]=62,u[95]=63;function l(d){var v=d.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var A=d.indexOf("=");A===-1&&(A=v);var E=A===v?0:4-A%4;return[A,E]}function c(d){var v=l(d),A=v[0],E=v[1];return(A+E)*3/4-E}function h(d,v,A){return(v+A)*3/4-A}function m(d){var v,A=l(d),E=A[0],S=A[1],C=new t(h(d,E,S)),I=0,N=S>0?E-4:E,U;for(U=0;U<N;U+=4)v=u[d.charCodeAt(U)]<<18|u[d.charCodeAt(U+1)]<<12|u[d.charCodeAt(U+2)]<<6|u[d.charCodeAt(U+3)],C[I++]=v>>16&255,C[I++]=v>>8&255,C[I++]=v&255;return S===2&&(v=u[d.charCodeAt(U)]<<2|u[d.charCodeAt(U+1)]>>4,C[I++]=v&255),S===1&&(v=u[d.charCodeAt(U)]<<10|u[d.charCodeAt(U+1)]<<4|u[d.charCodeAt(U+2)]>>2,C[I++]=v>>8&255,C[I++]=v&255),C}function g(d){return n[d>>18&63]+n[d>>12&63]+n[d>>6&63]+n[d&63]}function x(d,v,A){for(var E,S=[],C=v;C<A;C+=3)E=(d[C]<<16&16711680)+(d[C+1]<<8&65280)+(d[C+2]&255),S.push(g(E));return S.join("")}function _(d){for(var v,A=d.length,E=A%3,S=[],C=16383,I=0,N=A-E;I<N;I+=C)S.push(x(d,I,I+C>N?N:I+C));return E===1?(v=d[A-1],S.push(n[v>>2]+n[v<<4&63]+"==")):E===2&&(v=(d[A-2]<<8)+d[A-1],S.push(n[v>>10]+n[v>>4&63]+n[v<<2&63]+"=")),S.join("")}return z}var nr={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Br;function _e(){return Br||(Br=1,nr.read=function(n,u,t,o,s){var f,l,c=s*8-o-1,h=(1<<c)-1,m=h>>1,g=-7,x=t?s-1:0,_=t?-1:1,d=n[u+x];for(x+=_,f=d&(1<<-g)-1,d>>=-g,g+=c;g>0;f=f*256+n[u+x],x+=_,g-=8);for(l=f&(1<<-g)-1,f>>=-g,g+=o;g>0;l=l*256+n[u+x],x+=_,g-=8);if(f===0)f=1-m;else{if(f===h)return l?NaN:(d?-1:1)*(1/0);l=l+Math.pow(2,o),f=f-m}return(d?-1:1)*l*Math.pow(2,f-o)},nr.write=function(n,u,t,o,s,f){var l,c,h,m=f*8-s-1,g=(1<<m)-1,x=g>>1,_=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=o?0:f-1,v=o?1:-1,A=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(c=isNaN(u)?1:0,l=g):(l=Math.floor(Math.log(u)/Math.LN2),u*(h=Math.pow(2,-l))<1&&(l--,h*=2),l+x>=1?u+=_/h:u+=_*Math.pow(2,1-x),u*h>=2&&(l++,h/=2),l+x>=g?(c=0,l=g):l+x>=1?(c=(u*h-1)*Math.pow(2,s),l=l+x):(c=u*Math.pow(2,x-1)*Math.pow(2,s),l=0));s>=8;n[t+d]=c&255,d+=v,c/=256,s-=8);for(l=l<<s|c,m+=s;m>0;n[t+d]=l&255,d+=v,l/=256,m-=8);n[t+d-v]|=A*128}),nr}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var kr;function Pr(){return kr||(kr=1,function(n){var u=Ae(),t=_e(),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=c,n.SlowBuffer=C,n.INSPECT_MAX_BYTES=50;var s=2147483647;n.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=f(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function f(){try{var i=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(i,r),i.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function l(i){if(i>s)throw new RangeError('The value "'+i+'" is invalid for option "size"');var r=new Uint8Array(i);return Object.setPrototypeOf(r,c.prototype),r}function c(i,r,e){if(typeof i=="number"){if(typeof r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(i)}return h(i,r,e)}c.poolSize=8192;function h(i,r,e){if(typeof i=="string")return _(i,r);if(ArrayBuffer.isView(i))return v(i);if(i==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i);if(W(i,ArrayBuffer)||i&&W(i.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(W(i,SharedArrayBuffer)||i&&W(i.buffer,SharedArrayBuffer)))return A(i,r,e);if(typeof i=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var a=i.valueOf&&i.valueOf();if(a!=null&&a!==i)return c.from(a,r,e);var p=E(i);if(p)return p;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof i[Symbol.toPrimitive]=="function")return c.from(i[Symbol.toPrimitive]("string"),r,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i)}c.from=function(i,r,e){return h(i,r,e)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function m(i){if(typeof i!="number")throw new TypeError('"size" argument must be of type number');if(i<0)throw new RangeError('The value "'+i+'" is invalid for option "size"')}function g(i,r,e){return m(i),i<=0?l(i):r!==void 0?typeof e=="string"?l(i).fill(r,e):l(i).fill(r):l(i)}c.alloc=function(i,r,e){return g(i,r,e)};function x(i){return m(i),l(i<0?0:S(i)|0)}c.allocUnsafe=function(i){return x(i)},c.allocUnsafeSlow=function(i){return x(i)};function _(i,r){if((typeof r!="string"||r==="")&&(r="utf8"),!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var e=I(i,r)|0,a=l(e),p=a.write(i,r);return p!==e&&(a=a.slice(0,p)),a}function d(i){for(var r=i.length<0?0:S(i.length)|0,e=l(r),a=0;a<r;a+=1)e[a]=i[a]&255;return e}function v(i){if(W(i,Uint8Array)){var r=new Uint8Array(i);return A(r.buffer,r.byteOffset,r.byteLength)}return d(i)}function A(i,r,e){if(r<0||i.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(i.byteLength<r+(e||0))throw new RangeError('"length" is outside of buffer bounds');var a;return r===void 0&&e===void 0?a=new Uint8Array(i):e===void 0?a=new Uint8Array(i,r):a=new Uint8Array(i,r,e),Object.setPrototypeOf(a,c.prototype),a}function E(i){if(c.isBuffer(i)){var r=S(i.length)|0,e=l(r);return e.length===0||i.copy(e,0,0,r),e}if(i.length!==void 0)return typeof i.length!="number"||xr(i.length)?l(0):d(i);if(i.type==="Buffer"&&Array.isArray(i.data))return d(i.data)}function S(i){if(i>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return i|0}function C(i){return+i!=i&&(i=0),c.alloc(+i)}c.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==c.prototype},c.compare=function(r,e){if(W(r,Uint8Array)&&(r=c.from(r,r.offset,r.byteLength)),W(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(r)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===e)return 0;for(var a=r.length,p=e.length,y=0,w=Math.min(a,p);y<w;++y)if(r[y]!==e[y]){a=r[y],p=e[y];break}return a<p?-1:p<a?1:0},c.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(r,e){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return c.alloc(0);var a;if(e===void 0)for(e=0,a=0;a<r.length;++a)e+=r[a].length;var p=c.allocUnsafe(e),y=0;for(a=0;a<r.length;++a){var w=r[a];if(W(w,Uint8Array))y+w.length>p.length?c.from(w).copy(p,y):Uint8Array.prototype.set.call(p,w,y);else if(c.isBuffer(w))w.copy(p,y);else throw new TypeError('"list" argument must be an Array of Buffers');y+=w.length}return p};function I(i,r){if(c.isBuffer(i))return i.length;if(ArrayBuffer.isView(i)||W(i,ArrayBuffer))return i.byteLength;if(typeof i!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof i);var e=i.length,a=arguments.length>2&&arguments[2]===!0;if(!a&&e===0)return 0;for(var p=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return vr(i).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return zr(i).length;default:if(p)return a?-1:vr(i).length;r=(""+r).toLowerCase(),p=!0}}c.byteLength=I;function N(i,r,e){var a=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,r>>>=0,e<=r))return"";for(i||(i="utf8");;)switch(i){case"hex":return ht(this,r,e);case"utf8":case"utf-8":return Vr(this,r,e);case"ascii":return lt(this,r,e);case"latin1":case"binary":return pt(this,r,e);case"base64":return ft(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yt(this,r,e);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(i+"").toLowerCase(),a=!0}}c.prototype._isBuffer=!0;function U(i,r,e){var a=i[r];i[r]=i[e],i[e]=a}c.prototype.swap16=function(){var r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<r;e+=2)U(this,e,e+1);return this},c.prototype.swap32=function(){var r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<r;e+=4)U(this,e,e+3),U(this,e+1,e+2);return this},c.prototype.swap64=function(){var r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<r;e+=8)U(this,e,e+7),U(this,e+1,e+6),U(this,e+2,e+5),U(this,e+3,e+4);return this},c.prototype.toString=function(){var r=this.length;return r===0?"":arguments.length===0?Vr(this,0,r):N.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(r){if(!c.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:c.compare(this,r)===0},c.prototype.inspect=function(){var r="",e=n.INSPECT_MAX_BYTES;return r=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(r+=" ... "),"<Buffer "+r+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(r,e,a,p,y){if(W(r,Uint8Array)&&(r=c.from(r,r.offset,r.byteLength)),!c.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(e===void 0&&(e=0),a===void 0&&(a=r?r.length:0),p===void 0&&(p=0),y===void 0&&(y=this.length),e<0||a>r.length||p<0||y>this.length)throw new RangeError("out of range index");if(p>=y&&e>=a)return 0;if(p>=y)return-1;if(e>=a)return 1;if(e>>>=0,a>>>=0,p>>>=0,y>>>=0,this===r)return 0;for(var w=y-p,F=a-e,B=Math.min(w,F),k=this.slice(p,y),L=r.slice(e,a),P=0;P<B;++P)if(k[P]!==L[P]){w=k[P],F=L[P];break}return w<F?-1:F<w?1:0};function ar(i,r,e,a,p){if(i.length===0)return-1;if(typeof e=="string"?(a=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,xr(e)&&(e=p?0:i.length-1),e<0&&(e=i.length+e),e>=i.length){if(p)return-1;e=i.length-1}else if(e<0)if(p)e=0;else return-1;if(typeof r=="string"&&(r=c.from(r,a)),c.isBuffer(r))return r.length===0?-1:Hr(i,r,e,a,p);if(typeof r=="number")return r=r&255,typeof Uint8Array.prototype.indexOf=="function"?p?Uint8Array.prototype.indexOf.call(i,r,e):Uint8Array.prototype.lastIndexOf.call(i,r,e):Hr(i,[r],e,a,p);throw new TypeError("val must be string, number or Buffer")}function Hr(i,r,e,a,p){var y=1,w=i.length,F=r.length;if(a!==void 0&&(a=String(a).toLowerCase(),a==="ucs2"||a==="ucs-2"||a==="utf16le"||a==="utf-16le")){if(i.length<2||r.length<2)return-1;y=2,w/=2,F/=2,e/=2}function B(Zr,Qr){return y===1?Zr[Qr]:Zr.readUInt16BE(Qr*y)}var k;if(p){var L=-1;for(k=e;k<w;k++)if(B(i,k)===B(r,L===-1?0:k-L)){if(L===-1&&(L=k),k-L+1===F)return L*y}else L!==-1&&(k-=k-L),L=-1}else for(e+F>w&&(e=w-F),k=e;k>=0;k--){for(var P=!0,sr=0;sr<F;sr++)if(B(i,k+sr)!==B(r,sr)){P=!1;break}if(P)return k}return-1}c.prototype.includes=function(r,e,a){return this.indexOf(r,e,a)!==-1},c.prototype.indexOf=function(r,e,a){return ar(this,r,e,a,!0)},c.prototype.lastIndexOf=function(r,e,a){return ar(this,r,e,a,!1)};function it(i,r,e,a){e=Number(e)||0;var p=i.length-e;a?(a=Number(a),a>p&&(a=p)):a=p;var y=r.length;a>y/2&&(a=y/2);for(var w=0;w<a;++w){var F=parseInt(r.substr(w*2,2),16);if(xr(F))return w;i[e+w]=F}return w}function at(i,r,e,a){return or(vr(r,i.length-e),i,e,a)}function ot(i,r,e,a){return or(mt(r),i,e,a)}function st(i,r,e,a){return or(zr(r),i,e,a)}function ct(i,r,e,a){return or(gt(r,i.length-e),i,e,a)}c.prototype.write=function(r,e,a,p){if(e===void 0)p="utf8",a=this.length,e=0;else if(a===void 0&&typeof e=="string")p=e,a=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(a)?(a=a>>>0,p===void 0&&(p="utf8")):(p=a,a=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var y=this.length-e;if((a===void 0||a>y)&&(a=y),r.length>0&&(a<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");p||(p="utf8");for(var w=!1;;)switch(p){case"hex":return it(this,r,e,a);case"utf8":case"utf-8":return at(this,r,e,a);case"ascii":case"latin1":case"binary":return ot(this,r,e,a);case"base64":return st(this,r,e,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ct(this,r,e,a);default:if(w)throw new TypeError("Unknown encoding: "+p);p=(""+p).toLowerCase(),w=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ft(i,r,e){return r===0&&e===i.length?u.fromByteArray(i):u.fromByteArray(i.slice(r,e))}function Vr(i,r,e){e=Math.min(i.length,e);for(var a=[],p=r;p<e;){var y=i[p],w=null,F=y>239?4:y>223?3:y>191?2:1;if(p+F<=e){var B,k,L,P;switch(F){case 1:y<128&&(w=y);break;case 2:B=i[p+1],(B&192)===128&&(P=(y&31)<<6|B&63,P>127&&(w=P));break;case 3:B=i[p+1],k=i[p+2],(B&192)===128&&(k&192)===128&&(P=(y&15)<<12|(B&63)<<6|k&63,P>2047&&(P<55296||P>57343)&&(w=P));break;case 4:B=i[p+1],k=i[p+2],L=i[p+3],(B&192)===128&&(k&192)===128&&(L&192)===128&&(P=(y&15)<<18|(B&63)<<12|(k&63)<<6|L&63,P>65535&&P<1114112&&(w=P))}}w===null?(w=65533,F=1):w>65535&&(w-=65536,a.push(w>>>10&1023|55296),w=56320|w&1023),a.push(w),p+=F}return ut(a)}var Yr=4096;function ut(i){var r=i.length;if(r<=Yr)return String.fromCharCode.apply(String,i);for(var e="",a=0;a<r;)e+=String.fromCharCode.apply(String,i.slice(a,a+=Yr));return e}function lt(i,r,e){var a="";e=Math.min(i.length,e);for(var p=r;p<e;++p)a+=String.fromCharCode(i[p]&127);return a}function pt(i,r,e){var a="";e=Math.min(i.length,e);for(var p=r;p<e;++p)a+=String.fromCharCode(i[p]);return a}function ht(i,r,e){var a=i.length;(!r||r<0)&&(r=0),(!e||e<0||e>a)&&(e=a);for(var p="",y=r;y<e;++y)p+=vt[i[y]];return p}function yt(i,r,e){for(var a=i.slice(r,e),p="",y=0;y<a.length-1;y+=2)p+=String.fromCharCode(a[y]+a[y+1]*256);return p}c.prototype.slice=function(r,e){var a=this.length;r=~~r,e=e===void 0?a:~~e,r<0?(r+=a,r<0&&(r=0)):r>a&&(r=a),e<0?(e+=a,e<0&&(e=0)):e>a&&(e=a),e<r&&(e=r);var p=this.subarray(r,e);return Object.setPrototypeOf(p,c.prototype),p};function b(i,r,e){if(i%1!==0||i<0)throw new RangeError("offset is not uint");if(i+r>e)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(r,e,a){r=r>>>0,e=e>>>0,a||b(r,e,this.length);for(var p=this[r],y=1,w=0;++w<e&&(y*=256);)p+=this[r+w]*y;return p},c.prototype.readUintBE=c.prototype.readUIntBE=function(r,e,a){r=r>>>0,e=e>>>0,a||b(r,e,this.length);for(var p=this[r+--e],y=1;e>0&&(y*=256);)p+=this[r+--e]*y;return p},c.prototype.readUint8=c.prototype.readUInt8=function(r,e){return r=r>>>0,e||b(r,1,this.length),this[r]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(r,e){return r=r>>>0,e||b(r,2,this.length),this[r]|this[r+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(r,e){return r=r>>>0,e||b(r,2,this.length),this[r]<<8|this[r+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(r,e){return r=r>>>0,e||b(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(r,e){return r=r>>>0,e||b(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])},c.prototype.readIntLE=function(r,e,a){r=r>>>0,e=e>>>0,a||b(r,e,this.length);for(var p=this[r],y=1,w=0;++w<e&&(y*=256);)p+=this[r+w]*y;return y*=128,p>=y&&(p-=Math.pow(2,8*e)),p},c.prototype.readIntBE=function(r,e,a){r=r>>>0,e=e>>>0,a||b(r,e,this.length);for(var p=e,y=1,w=this[r+--p];p>0&&(y*=256);)w+=this[r+--p]*y;return y*=128,w>=y&&(w-=Math.pow(2,8*e)),w},c.prototype.readInt8=function(r,e){return r=r>>>0,e||b(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]},c.prototype.readInt16LE=function(r,e){r=r>>>0,e||b(r,2,this.length);var a=this[r]|this[r+1]<<8;return a&32768?a|4294901760:a},c.prototype.readInt16BE=function(r,e){r=r>>>0,e||b(r,2,this.length);var a=this[r+1]|this[r]<<8;return a&32768?a|4294901760:a},c.prototype.readInt32LE=function(r,e){return r=r>>>0,e||b(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},c.prototype.readInt32BE=function(r,e){return r=r>>>0,e||b(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},c.prototype.readFloatLE=function(r,e){return r=r>>>0,e||b(r,4,this.length),t.read(this,r,!0,23,4)},c.prototype.readFloatBE=function(r,e){return r=r>>>0,e||b(r,4,this.length),t.read(this,r,!1,23,4)},c.prototype.readDoubleLE=function(r,e){return r=r>>>0,e||b(r,8,this.length),t.read(this,r,!0,52,8)},c.prototype.readDoubleBE=function(r,e){return r=r>>>0,e||b(r,8,this.length),t.read(this,r,!1,52,8)};function q(i,r,e,a,p,y){if(!c.isBuffer(i))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>p||r<y)throw new RangeError('"value" argument is out of bounds');if(e+a>i.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(r,e,a,p){if(r=+r,e=e>>>0,a=a>>>0,!p){var y=Math.pow(2,8*a)-1;q(this,r,e,a,y,0)}var w=1,F=0;for(this[e]=r&255;++F<a&&(w*=256);)this[e+F]=r/w&255;return e+a},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(r,e,a,p){if(r=+r,e=e>>>0,a=a>>>0,!p){var y=Math.pow(2,8*a)-1;q(this,r,e,a,y,0)}var w=a-1,F=1;for(this[e+w]=r&255;--w>=0&&(F*=256);)this[e+w]=r/F&255;return e+a},c.prototype.writeUint8=c.prototype.writeUInt8=function(r,e,a){return r=+r,e=e>>>0,a||q(this,r,e,1,255,0),this[e]=r&255,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(r,e,a){return r=+r,e=e>>>0,a||q(this,r,e,2,65535,0),this[e]=r&255,this[e+1]=r>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(r,e,a){return r=+r,e=e>>>0,a||q(this,r,e,2,65535,0),this[e]=r>>>8,this[e+1]=r&255,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(r,e,a){return r=+r,e=e>>>0,a||q(this,r,e,4,4294967295,0),this[e+3]=r>>>24,this[e+2]=r>>>16,this[e+1]=r>>>8,this[e]=r&255,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(r,e,a){return r=+r,e=e>>>0,a||q(this,r,e,4,4294967295,0),this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=r&255,e+4},c.prototype.writeIntLE=function(r,e,a,p){if(r=+r,e=e>>>0,!p){var y=Math.pow(2,8*a-1);q(this,r,e,a,y-1,-y)}var w=0,F=1,B=0;for(this[e]=r&255;++w<a&&(F*=256);)r<0&&B===0&&this[e+w-1]!==0&&(B=1),this[e+w]=(r/F>>0)-B&255;return e+a},c.prototype.writeIntBE=function(r,e,a,p){if(r=+r,e=e>>>0,!p){var y=Math.pow(2,8*a-1);q(this,r,e,a,y-1,-y)}var w=a-1,F=1,B=0;for(this[e+w]=r&255;--w>=0&&(F*=256);)r<0&&B===0&&this[e+w+1]!==0&&(B=1),this[e+w]=(r/F>>0)-B&255;return e+a},c.prototype.writeInt8=function(r,e,a){return r=+r,e=e>>>0,a||q(this,r,e,1,127,-128),r<0&&(r=255+r+1),this[e]=r&255,e+1},c.prototype.writeInt16LE=function(r,e,a){return r=+r,e=e>>>0,a||q(this,r,e,2,32767,-32768),this[e]=r&255,this[e+1]=r>>>8,e+2},c.prototype.writeInt16BE=function(r,e,a){return r=+r,e=e>>>0,a||q(this,r,e,2,32767,-32768),this[e]=r>>>8,this[e+1]=r&255,e+2},c.prototype.writeInt32LE=function(r,e,a){return r=+r,e=e>>>0,a||q(this,r,e,4,2147483647,-2147483648),this[e]=r&255,this[e+1]=r>>>8,this[e+2]=r>>>16,this[e+3]=r>>>24,e+4},c.prototype.writeInt32BE=function(r,e,a){return r=+r,e=e>>>0,a||q(this,r,e,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=r&255,e+4};function Kr(i,r,e,a,p,y){if(e+a>i.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function Xr(i,r,e,a,p){return r=+r,e=e>>>0,p||Kr(i,r,e,4),t.write(i,r,e,a,23,4),e+4}c.prototype.writeFloatLE=function(r,e,a){return Xr(this,r,e,!0,a)},c.prototype.writeFloatBE=function(r,e,a){return Xr(this,r,e,!1,a)};function Gr(i,r,e,a,p){return r=+r,e=e>>>0,p||Kr(i,r,e,8),t.write(i,r,e,a,52,8),e+8}c.prototype.writeDoubleLE=function(r,e,a){return Gr(this,r,e,!0,a)},c.prototype.writeDoubleBE=function(r,e,a){return Gr(this,r,e,!1,a)},c.prototype.copy=function(r,e,a,p){if(!c.isBuffer(r))throw new TypeError("argument should be a Buffer");if(a||(a=0),!p&&p!==0&&(p=this.length),e>=r.length&&(e=r.length),e||(e=0),p>0&&p<a&&(p=a),p===a||r.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(a<0||a>=this.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("sourceEnd out of bounds");p>this.length&&(p=this.length),r.length-e<p-a&&(p=r.length-e+a);var y=p-a;return this===r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(e,a,p):Uint8Array.prototype.set.call(r,this.subarray(a,p),e),y},c.prototype.fill=function(r,e,a,p){if(typeof r=="string"){if(typeof e=="string"?(p=e,e=0,a=this.length):typeof a=="string"&&(p=a,a=this.length),p!==void 0&&typeof p!="string")throw new TypeError("encoding must be a string");if(typeof p=="string"&&!c.isEncoding(p))throw new TypeError("Unknown encoding: "+p);if(r.length===1){var y=r.charCodeAt(0);(p==="utf8"&&y<128||p==="latin1")&&(r=y)}}else typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=Number(r));if(e<0||this.length<e||this.length<a)throw new RangeError("Out of range index");if(a<=e)return this;e=e>>>0,a=a===void 0?this.length:a>>>0,r||(r=0);var w;if(typeof r=="number")for(w=e;w<a;++w)this[w]=r;else{var F=c.isBuffer(r)?r:c.from(r,p),B=F.length;if(B===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(w=0;w<a-e;++w)this[w+e]=F[w%B]}return this};var wt=/[^+/0-9A-Za-z-_]/g;function dt(i){if(i=i.split("=")[0],i=i.trim().replace(wt,""),i.length<2)return"";for(;i.length%4!==0;)i=i+"=";return i}function vr(i,r){r=r||1/0;for(var e,a=i.length,p=null,y=[],w=0;w<a;++w){if(e=i.charCodeAt(w),e>55295&&e<57344){if(!p){if(e>56319){(r-=3)>-1&&y.push(239,191,189);continue}else if(w+1===a){(r-=3)>-1&&y.push(239,191,189);continue}p=e;continue}if(e<56320){(r-=3)>-1&&y.push(239,191,189),p=e;continue}e=(p-55296<<10|e-56320)+65536}else p&&(r-=3)>-1&&y.push(239,191,189);if(p=null,e<128){if((r-=1)<0)break;y.push(e)}else if(e<2048){if((r-=2)<0)break;y.push(e>>6|192,e&63|128)}else if(e<65536){if((r-=3)<0)break;y.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((r-=4)<0)break;y.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return y}function mt(i){for(var r=[],e=0;e<i.length;++e)r.push(i.charCodeAt(e)&255);return r}function gt(i,r){for(var e,a,p,y=[],w=0;w<i.length&&!((r-=2)<0);++w)e=i.charCodeAt(w),a=e>>8,p=e%256,y.push(p),y.push(a);return y}function zr(i){return u.toByteArray(dt(i))}function or(i,r,e,a){for(var p=0;p<a&&!(p+e>=r.length||p>=i.length);++p)r[p+e]=i[p];return p}function W(i,r){return i instanceof r||i!=null&&i.constructor!=null&&i.constructor.name!=null&&i.constructor.name===r.name}function xr(i){return i!==i}var vt=function(){for(var i="0123456789abcdef",r=new Array(256),e=0;e<16;++e)for(var a=e*16,p=0;p<16;++p)r[a+p]=i[e]+i[p];return r}()}(wr)),wr}var br;function Ie(){if(br)return V.exports;br=1;const n=xe(),u=Ee(),t=o();function o(){const h=Pr();return h&&h.Buffer?h.Buffer:Pr().Buffer}const s=t.from("==","base64");function f(h){let m=!1,g=!1,x=Math.pow(2,31)-1;typeof h=="boolean"?m=h:(h=h||{},x=h.maxInt||Math.pow(2,31)-1,g=!!h.urlSafe,m=!!h.fixedLength),v.uuid=n(),v.decode=c;let _=l(v.uuid,g),d=Math.floor(h.startFrom||0);if(isNaN(x))throw new Error(`maxInt must be a number. recieved ${h.maxInt}`);if(isNaN(d)||!(x>d&&d>=0))throw new Error([`when passed, opts.startFrom must be a number between 0 and ${x}.`,"Only the integer part matters.",`- got: ${h.startFrom}`].join(`
`));return v;function v(){let A;return d===x&&(v.uuid=n(),_=l(v.uuid,g),d=0),m?A=_+`0000000000${d}`.slice(-10):A=_+d,d=d+1|0,A}}function l(h,m){const g=t.concat([t.from(u.parse(h)),s]).toString("base64");return m?g.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"-"):g.replace(/=+$/,"/")}function c(h,m){if(m=m||{},!!m.urlSafe&&(h=h.replace(/-([^-]*)$/,"/$1").replace(/-/g,"+").replace(/_/g,"/")),h.length<22)return null;const x=h.lastIndexOf("/");if(x===-1)return null;const _=h.substring(0,x),d=Number(h.substring(x+1));return!_||isNaN(d)?null:{uuid:u.unparse(t.from(_+"==","base64")),count:d}}return V.exports=f,V.exports.decode=c,V.exports}var Fe=Ie(),Mr=Y(Fe),dr={exports:{}},Tr;function Ce(){return Tr||(Tr=1,function(n){var u=Object.prototype.hasOwnProperty,t="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(t=!1));function s(h,m,g){this.fn=h,this.context=m,this.once=g||!1}function f(h,m,g,x,_){if(typeof g!="function")throw new TypeError("The listener must be a function");var d=new s(g,x||h,_),v=t?t+m:m;return h._events[v]?h._events[v].fn?h._events[v]=[h._events[v],d]:h._events[v].push(d):(h._events[v]=d,h._eventsCount++),h}function l(h,m){--h._eventsCount===0?h._events=new o:delete h._events[m]}function c(){this._events=new o,this._eventsCount=0}c.prototype.eventNames=function(){var m=[],g,x;if(this._eventsCount===0)return m;for(x in g=this._events)u.call(g,x)&&m.push(t?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},c.prototype.listeners=function(m){var g=t?t+m:m,x=this._events[g];if(!x)return[];if(x.fn)return[x.fn];for(var _=0,d=x.length,v=new Array(d);_<d;_++)v[_]=x[_].fn;return v},c.prototype.listenerCount=function(m){var g=t?t+m:m,x=this._events[g];return x?x.fn?1:x.length:0},c.prototype.emit=function(m,g,x,_,d,v){var A=t?t+m:m;if(!this._events[A])return!1;var E=this._events[A],S=arguments.length,C,I;if(E.fn){switch(E.once&&this.removeListener(m,E.fn,void 0,!0),S){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,g),!0;case 3:return E.fn.call(E.context,g,x),!0;case 4:return E.fn.call(E.context,g,x,_),!0;case 5:return E.fn.call(E.context,g,x,_,d),!0;case 6:return E.fn.call(E.context,g,x,_,d,v),!0}for(I=1,C=new Array(S-1);I<S;I++)C[I-1]=arguments[I];E.fn.apply(E.context,C)}else{var N=E.length,U;for(I=0;I<N;I++)switch(E[I].once&&this.removeListener(m,E[I].fn,void 0,!0),S){case 1:E[I].fn.call(E[I].context);break;case 2:E[I].fn.call(E[I].context,g);break;case 3:E[I].fn.call(E[I].context,g,x);break;case 4:E[I].fn.call(E[I].context,g,x,_);break;default:if(!C)for(U=1,C=new Array(S-1);U<S;U++)C[U-1]=arguments[U];E[I].fn.apply(E[I].context,C)}}return!0},c.prototype.on=function(m,g,x){return f(this,m,g,x,!1)},c.prototype.once=function(m,g,x){return f(this,m,g,x,!0)},c.prototype.removeListener=function(m,g,x,_){var d=t?t+m:m;if(!this._events[d])return this;if(!g)return l(this,d),this;var v=this._events[d];if(v.fn)v.fn===g&&(!_||v.once)&&(!x||v.context===x)&&l(this,d);else{for(var A=0,E=[],S=v.length;A<S;A++)(v[A].fn!==g||_&&!v[A].once||x&&v[A].context!==x)&&E.push(v[A]);E.length?this._events[d]=E.length===1?E[0]:E:l(this,d)}return this},c.prototype.removeAllListeners=function(m){var g;return m?(g=t?t+m:m,this._events[g]&&l(this,g)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=t,c.EventEmitter=c,n.exports=c}(dr)),dr.exports}var Se=Ce(),Ue=Y(Se);const J={INIT:"init",API_CALL:"api_call",READY:"ready",API_RESPONSE:"api_response",ERROR:"error",DISPOSED:"disposed"};class Be extends Ue{constructor(){super(...arguments);Z(this,"id",Mr());Z(this,"ready",!1);Z(this,"worker",null);Z(this,"pendingMessages",new Map)}async init(){if(this.ready!==!0)return this.ready instanceof Promise?this.ready:(this.worker=new Worker(self.location.href,{type:"module"}),this.worker.onmessage=t=>{this._handleWorkerMessage(t.data)},this.worker.onerror=t=>{console.error("[WASM] Web worker error:",t),this._rejectPendingMessages(t)},this.ready=new Promise(async(t,o)=>{try{await this._sendMessage(J.INIT),t(!0)}catch(s){console.error("[WASM] Failed to initialize:",s),this.ready=!1,o(s)}}),this.ready)}async _sendMessage(t,o={}){if(!this.worker)throw new Error("Worker not initialized");const s=this.id();return new Promise((f,l)=>{this.pendingMessages.set(s,{resolve:f,reject:l}),this.worker.postMessage({type:t,payload:o,id:s})})}_handleWorkerMessage({type:t,payload:o,id:s}){const f=this.pendingMessages.get(s);if(!f){console.warn("[WASM] Received response for unknown message ID:",s);return}this.pendingMessages.delete(s);const{resolve:l,reject:c}=f;switch(t){case J.READY:this.emit(J.READY),l();break;case J.API_RESPONSE:l(o);break;case J.ERROR:c(new Error(o.message));break;default:console.warn("[WASM] Unknown message type:",t),c(new Error(`Unknown message type: ${t}`))}}_rejectPendingMessages(t){for(const{reject:o}of this.pendingMessages.values())o(t);this.pendingMessages.clear()}async _apiCall(t,...o){return this.ready||await this.init(),await this._sendMessage(J.API_CALL,{method:t,args:o})}async getAllEntityClasses(t){return this._apiCall("getAllEntityClasses",t)}async getAllDataTypes(t){return this._apiCall("getAllDataTypes",t)}async getPredefinedTypes(t,o){return this._apiCall("getPredefinedTypes",t,o)}async getEntityAttributes(t,o){return this._apiCall("getEntityAttributes",t,o)}async getApplicablePsets(t,o,s=""){return this._apiCall("getApplicablePsets",t,o,s)}async getMaterialCategories(){return this._apiCall("getMaterialCategories")}async getStandardClassificationSystems(){return this._apiCall("getStandardClassificationSystems")}async loadIfc(t){return this._apiCall("loadIfc",t)}async unloadIfc(t){return this._apiCall("unloadIfc",t)}async auditIfc(t,o){const s=o instanceof ArrayBuffer?new Uint8Array(o):o;return this._apiCall("auditIfc",t,Array.from(s))}async createIDS(){return this._apiCall("createIDS")}async openIDS(t,o=!1){return this._apiCall("openIDS",t,o)}async createSpecification(t={}){return this._apiCall("createSpecification",t)}async createEntityFacet(t,o={}){return this._apiCall("createEntityFacet",t,o)}async createAttributeFacet(t,o={}){return this._apiCall("createAttributeFacet",t,o)}async createPropertyFacet(t,o={}){return this._apiCall("createPropertyFacet",t,o)}async createMaterialFacet(t,o={}){return this._apiCall("createMaterialFacet",t,o)}async createClassificationFacet(t,o={}){return this._apiCall("createClassificationFacet",t,o)}async createPartOfFacet(t,o={}){return this._apiCall("createPartOfFacet",t,o)}async validateIDS(t){return await this._apiCall("validateIDS",t)}async exportIDS(t){return this._apiCall("exportIDS",t)}async _cleanupWorker(){return this._apiCall("internal.cleanup",{})}async dispose(){this.worker&&(await this._cleanupWorker(),this.worker.terminate(),this.worker=null),this.ready=!1,this._rejectPendingMessages(new Error("WASM module disposed")),this.emit(J.DISPOSED)}}const ke=new Be,{init:At,getAllEntityClasses:_t,getAllDataTypes:It,getPredefinedTypes:Ft,getEntityAttributes:Ct,getApplicablePsets:St,getMaterialCategories:Ut,getStandardClassificationSystems:Bt,loadIfc:kt,unloadIfc:Pt,auditIfc:bt,createIDS:Mt,openIDS:Tt,createSpecification:Rt,createEntityFacet:Dt,createAttributeFacet:$t,createPropertyFacet:Lt,createMaterialFacet:Ot,createClassificationFacet:Nt,createPartOfFacet:qt,validateIDS:jt,exportIDS:Jt,dispose:Wt}=ke;var X={wasm:{wheel_url:"/worker/bin/ifcopenshell-0.8.3+bb329af-cp313-cp313-emscripten_4_0_9_wasm32.whl",odfpy_url:"/worker/bin/odfpy-1.4.2-py2.py3-none-any.whl",ifctester_url:"/worker/bin/ifctester-0.8.3-py3-none-any.whl",api_py_url:"/worker/api.py",pyodide_url:"https://cdn.jsdelivr.net/pyodide/v0.28.0/full/pyodide.js"}};let j=null,mr,Rr,Dr,$r,Lr,Or,Nr,qr;async function Pe(n){j=n,await j.loadPackagesFromImports(`
        import ifctester.ids
        import ifctester.facet
    `),mr=j.pyimport("ifctester.ids").Ids,Rr=j.pyimport("ifctester.ids").Specification,Dr=j.pyimport("ifctester.facet").Entity,$r=j.pyimport("ifctester.facet").Attribute,Lr=j.pyimport("ifctester.facet").Property,Or=j.pyimport("ifctester.facet").Material,Nr=j.pyimport("ifctester.facet").Classification,qr=j.pyimport("ifctester.facet").PartOf}function jr(n){return mr().parse(j.toPy(n))}function be(){return mr().asdict().toJs({dict_converter:Object.fromEntries})}function Me(n,u=!1){const t=j.pyimport("api").ids_from_xml_string;return t(n,u).asdict().toJs({dict_converter:Object.fromEntries})}function Te(n){const u=jr(n),t=`temp_${Date.now()}.xml`,o=u.to_xml(t);return j.runPython(`
        import os
        if os.path.exists("${t}"):
            os.remove("${t}")
    `),o}function Re(n){return jr(n).to_string()}function De({name:n="Unnamed",ifcVersion:u=["IFC2X3","IFC4"],identifier:t=null,description:o=null,instructions:s=null,usage:f="required"}){const l=Rr.callKwargs({name:n,ifcVersion:u,identifier:t,description:o,instructions:s});return l.set_usage(f),l.asdict().toJs({dict_converter:Object.fromEntries})}function $e(n,{name:u="IFCWALL",predefinedType:t=null,instructions:o=null}){return Dr.callKwargs({name:u,predefinedType:t,instructions:o}).asdict(n).toJs({dict_converter:Object.fromEntries})}function Le(n,{name:u="Name",value:t=null,cardinality:o="required",instructions:s=null}){return $r.callKwargs({name:u,value:t,cardinality:o,instructions:s}).asdict(n).toJs({dict_converter:Object.fromEntries})}function Oe(n,{value:u=null,system:t=null,uri:o=null,cardinality:s="required",instructions:f=null}){return Nr.callKwargs({value:u,system:t,uri:o,cardinality:s,instructions:f}).asdict(n).toJs({dict_converter:Object.fromEntries})}function Ne(n,{name:u="IFCWALL",predefinedType:t=null,relation:o=null,cardinality:s="required",instructions:f=null}){return qr.callKwargs({name:u,predefinedType:t,relation:o,cardinality:s,instructions:f}).asdict(n).toJs({dict_converter:Object.fromEntries})}function qe(n,{propertySet:u="Property_Set",baseName:t="propertyName",value:o=null,dataType:s=null,uri:f=null,cardinality:l="required",instructions:c=null}){return Lr.callKwargs({propertySet:u,baseName:t,value:o,dataType:s,uri:f,cardinality:l,instructions:c}).asdict(n).toJs({dict_converter:Object.fromEntries})}function je(n,{value:u=null,uri:t=null,cardinality:o="required",instructions:s=null}){return Or.callKwargs({value:u,uri:t,cardinality:o,instructions:s}).asdict(n).toJs({dict_converter:Object.fromEntries})}const Jr={createIDS:be,openIDS:Me,validateIDS:Te,exportIDS:Re,createSpecification:De,createEntityFacet:$e,createAttributeFacet:Le,createClassificationFacet:Oe,createPartOfFacet:Ne,createPropertyFacet:qe,createMaterialFacet:je};let O=null,Je=Mr(),gr=new Map;async function We(n){O=n,await O.runPythonAsync(`
        from pyodide.http import pyfetch
        response = await pyfetch("${X.wasm.api_py_url}")
        with open("api.py", "wb") as f:
            f.write(await response.bytes())
    `)}async function He(n,u){return(await O.runPythonAsync(`
        from api import get_predefined_types_for_entity
        predef_types = get_predefined_types_for_entity("${n}", "${u}")
        predef_types
    `)).toJs({dict_converter:Object.fromEntries})}async function Ve(n){return(await O.runPythonAsync(`
        from api import get_all_entity_classes
        entities = get_all_entity_classes("${n}")
        entities
    `)).toJs({dict_converter:Object.fromEntries})}async function Ye(n){return(await O.runPythonAsync(`
        from api import get_all_data_types
        data_types = get_all_data_types("${n}")
        data_types
    `)).toJs({dict_converter:Object.fromEntries})}async function Ke(n,u){return(await O.runPythonAsync(`
        from api import get_entity_attributes
        attrs = get_entity_attributes("${n}", "${u}")
        attrs
    `)).toJs({dict_converter:Object.fromEntries})}async function Xe(n,u,t=""){return(await O.runPythonAsync(`
        from api import get_applicable_psets
        psets = get_applicable_psets("${n}", "${u}", "${t}")
        psets
    `)).toJs({dict_converter:Object.fromEntries})}async function Ge(){return(await O.runPythonAsync(`
        from api import get_material_categories
        materials = get_material_categories()
        materials
    `)).toJs({dict_converter:Object.fromEntries})}async function ze(){return(await O.runPythonAsync(`
        from api import get_standard_classification_systems
        systems = get_standard_classification_systems()
        systems
    `)).toJs({dict_converter:Object.fromEntries})}async function Ze(n){const u=Je(),t=`/tmp/${encodeURIComponent(u)}.ifc`;O.FS.writeFile(t,new Uint8Array(n));const o=await O.runPythonAsync(`
        import ifcopenshell

        ifc = ifcopenshell.open("${t}")
        ifc
    `);return gr.set(u,o),u}async function Qe(n){const u=`/tmp/${encodeURIComponent(n)}.ifc`;O.FS.unlink(u),gr.delete(n)}async function rt(n,u){const t=O.pyimport("ifctester.reporter"),o=O.pyimport("api"),s=new TextDecoder().decode(new Uint8Array(u)),f=o.ids_from_xml_string(s,!0),l=gr.get(n);f.validate(l);let c=t.Json(f);c.report();const h=c.to_string();let m=t.Html(f);m.report();const g=m.to_string();return{json:JSON.parse(h),html:g}}const Wr={getPredefinedTypes:He,getAllEntityClasses:Ve,getAllDataTypes:Ye,getEntityAttributes:Ke,getApplicablePsets:Xe,getMaterialCategories:Ge,getStandardClassificationSystems:ze,loadIfc:Ze,unloadIfc:Qe,auditIfc:rt};let G=null,ir=!1;self.addEventListener("message",async n=>{console.log("[worker] Received message:",n.data);const{type:u,payload:t,id:o}=n.data;try{switch(u){case J.INIT:await et(),self.postMessage({type:J.READY,payload:{success:!0},id:o});break;case J.API_CALL:if(!ir)throw new Error("[worker] Pyodide not initialized");const s=await nt(t);self.postMessage({type:J.API_RESPONSE,payload:s,id:o});break;default:throw new Error(`[worker] Unknown message type: ${u}`)}}catch(s){self.postMessage({type:J.ERROR,payload:{message:s.message,stack:s.stack},id:o})}});async function et(){if(ir)return;const n=self.location.origin,u=f=>f.startsWith("http://")||f.startsWith("https://")?f:`${n}${f.startsWith("/")?f:"/"+f}`,t=new URL("/pyodide/pyodide.mjs",self.location.href),{loadPyodide:o}=await import(t.href);G=await o({convertNullToNone:!0}),await G.loadPackage("micropip"),await G.loadPackage("numpy");const s=G.pyimport("micropip");try{const f=u(X.wasm.wheel_url);console.log(`[worker] Installing IfcOpenShell from: ${f}`);try{const l=await fetch(f,{method:"HEAD",mode:"cors"});if(!l.ok)throw new Error(`File not found (${l.status})`);console.log("[worker] IfcOpenShell file exists, proceeding with install...")}catch(l){console.warn(`[worker] HEAD request failed, trying install anyway: ${l.message}`)}await s.install(f),console.log("[worker] IfcOpenShell installed successfully")}catch(f){console.error(`[worker] Failed to install IfcOpenShell from local file: ${f.message}`),console.error("[worker] Error details:",f);try{console.log("[worker] Attempting to install ifcopenshell from PyPI..."),await s.install("ifcopenshell"),console.log("[worker] IfcOpenShell installed from PyPI")}catch(l){throw console.error(`[worker] Failed to install IfcOpenShell from PyPI: ${l.message}`),new Error(`Failed to install IfcOpenShell. Please ensure the wheel file is available at ${X.wasm.wheel_url} or internet access is available. Error: ${f.message}`)}}try{const f=u(X.wasm.odfpy_url);console.log(`[worker] Installing odfpy from: ${f}`),await s.install(f),console.log("[worker] odfpy installed successfully")}catch(f){console.error(`[worker] Failed to install odfpy from local file: ${f.message}`);try{console.log("[worker] Attempting to install odfpy from PyPI..."),await s.install("odfpy"),console.log("[worker] odfpy installed from PyPI")}catch(l){throw console.error(`[worker] Failed to install odfpy from PyPI: ${l.message}`),new Error(`Failed to install odfpy. Please ensure the wheel file is available at ${X.wasm.odfpy_url} or internet access is available.`)}}await G.loadPackage("shapely");try{if(X.wasm.ifctester_url){const f=u(X.wasm.ifctester_url);console.log(`[worker] Installing ifctester from local file: ${f}`),await s.install(f),console.log("[worker] Installed ifctester from local file")}}catch(f){console.error("[worker] Failed to install ifctester:",f.message);try{const l="https://files.pythonhosted.org/packages/8c/98/98afa5fa347361b8d0f421b1c5059ef960a455f89b8235e6ceed33c0e796/ifctester-0.8.3-py3-none-any.whl";console.log(`[worker] Trying PyPI fallback: ${l}`),await s.install(l),console.log("[worker] Installed ifctester from PyPI URL")}catch(l){console.error("[worker] Failed to install ifctester from PyPI:",l.message);const c=u(X.wasm.ifctester_url);throw new Error(`Failed to install ifctester: ${f.message}. Make sure ifctester wheel is available locally at ${c} or internet access is available.`)}}await We(G),await Pe(G),console.log("[worker] Environment initialized"),ir=!0}async function tt(){ir=!1,G=null,console.log("[worker] Closed environment")}async function nt({method:n,args:u=[]}){if(n==="internal.cleanup")return await tt(),!0;if(n in Wr)return await Wr[n](...u);if(n in Jr)return await Jr[n](...u);throw new Error(`[worker] Unknown API method: ${n}`)}})();
